<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- API Gateway -->
  <rect x="320" y="50" width="160" height="80" rx="10" fill="#e63946" stroke="#333" stroke-width="2" />
  <text x="400" y="90" font-family="Arial" font-size="16" text-anchor="middle" fill="white">API Gateway</text>
  <text x="400" y="110" font-family="Arial" font-size="12" text-anchor="middle" fill="white">NestJS</text>
  
  <!-- Authentication Service -->
  <rect x="120" y="180" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="190" y="215" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Auth Service</text>
  <text x="190" y="235" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- User Service -->
  <rect x="320" y="180" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="390" y="215" font-family="Arial" font-size="14" text-anchor="middle" fill="white">User Service</text>
  <text x="390" y="235" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- Product Service -->
  <rect x="520" y="180" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="590" y="215" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Product Service</text>
  <text x="590" y="235" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- Order Service -->
  <rect x="120" y="300" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="190" y="335" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Order Service</text>
  <text x="190" y="355" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- Payment Service -->
  <rect x="320" y="300" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="390" y="335" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Payment Service</text>
  <text x="390" y="355" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- Notification Service -->
  <rect x="520" y="300" width="140" height="70" rx="10" fill="#457b9d" stroke="#333" stroke-width="2" />
  <text x="590" y="335" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Notification Service</text>
  <text x="590" y="355" font-family="Arial" font-size="10" text-anchor="middle" fill="white">NestJS Microservice</text>
  
  <!-- Message Broker -->
  <rect x="320" y="420" width="160" height="60" rx="10" fill="#1d3557" stroke="#333" stroke-width="2" />
  <text x="400" y="455" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Message Broker</text>
  <text x="400" y="470" font-family="Arial" font-size="10" text-anchor="middle" fill="white">(RabbitMQ/Kafka)</text>
  
  <!-- Databases -->
  <rect x="120" y="520" width="100" height="50" rx="5" fill="#a8dadc" stroke="#333" stroke-width="2" />
  <text x="170" y="550" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Auth DB</text>
  
  <rect x="240" y="520" width="100" height="50" rx="5" fill="#a8dadc" stroke="#333" stroke-width="2" />
  <text x="290" y="550" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">User DB</text>
  
  <rect x="360" y="520" width="100" height="50" rx="5" fill="#a8dadc" stroke="#333" stroke-width="2" />
  <text x="410" y="550" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Product DB</text>
  
  <rect x="480" y="520" width="100" height="50" rx="5" fill="#a8dadc" stroke="#333" stroke-width="2" />
  <text x="530" y="550" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Order DB</text>
  
  <rect x="600" y="520" width="100" height="50" rx="5" fill="#a8dadc" stroke="#333" stroke-width="2" />
  <text x="650" y="550" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Payment DB</text>
  
  <!-- Connection Lines -->
  <!-- Gateway to Services -->
  <line x1="400" y1="130" x2="400" y2="150" stroke="#333" stroke-width="2" />
  <line x1="400" y1="150" x2="190" y2="150" stroke="#333" stroke-width="2" />
  <line x1="400" y1="150" x2="590" y2="150" stroke="#333" stroke-width="2" />
  <line x1="190" y1="150" x2="190" y2="180" stroke="#333" stroke-width="2" />
  <line x1="400" y1="150" x2="400" y2="180" stroke="#333" stroke-width="2" />
  <line x1="590" y1="150" x2="590" y2="180" stroke="#333" stroke-width="2" />
  
  <!-- Services to Message Broker -->
  <line x1="190" y1="370" x2="190" y2="450" stroke="#333" stroke-width="2" />
  <line x1="390" y1="370" x2="390" y2="420" stroke="#333" stroke-width="2" />
  <line x1="590" y1="370" x2="590" y2="450" stroke="#333" stroke-width="2" />
  <line x1="190" y1="450" x2="320" y2="450" stroke="#333" stroke-width="2" />
  <line x1="590" y1="450" x2="480" y2="450" stroke="#333" stroke-width="2" />
  
  <!-- Services to Databases -->
  <line x1="170" y1="250" x2="170" y2="520" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="390" y1="250" x2="290" y2="520" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="590" y1="250" x2="410" y2="520" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="190" y1="370" x2="530" y2="520" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="390" y1="370" x2="650" y2="520" stroke="#333" stroke-width="1" stroke-dasharray="5,5" />
  
  <!-- Clients -->
  <rect x="50" y="50" width="100" height="50" rx="25" fill="#f1faee" stroke="#333" stroke-width="2" />
  <text x="100" y="80" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Web Client</text>
  
  <rect x="650" y="50" width="100" height="50" rx="25" fill="#f1faee" stroke="#333" stroke-width="2" />
  <text x="700" y="80" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Mobile Client</text>
  
  <!-- Client to Gateway Lines -->
  <line x1="150" y1="75" x2="320" y2="75" stroke="#333" stroke-width="2" />
  <line x1="650" y1="75" x2="480" y2="75" stroke="#333" stroke-width="2" />
</svg>
